!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);!function(){let e,t,o,l,r,a,i,c,u,s,d,m,f,g,h,y,p,E,B=n(2);function C(n){if(console.log("create record"),N(n.target.parentNode)){let r={firstname:e.value,lastname:t.value,phone:l.value,email:o.value};B.createContact(r,v),function(e){console.log(e);let t=["text","email","tel"],n=e.getElementsByTagName("input");for(let e=0;e<n.length;++e)t.includes(n[e].type)&&(n[e].value="")}(n.target.parentNode),g.click(),document.getElementById("alertEdit").setAttribute("style","display:none")}else console.log("error")}function N(e){let t=["text","email","tel"],n=e.getElementsByTagName("input"),o=!0;e.getElementsByClassName("alert")[0].innerHTML="";for(let l=0;l<n.length;++l)t.includes(n[l].type)&&!n[l].checkValidity()&&(e.getElementsByClassName("alert")[0].setAttribute("style","display:block"),""!==e.getElementsByClassName("alert")[0].innerHTML?e.getElementsByClassName("alert")[0].innerHTML=e.getElementsByClassName("alert")[0].innerHTML+"<br><strong>"+n[l].getAttribute("name")+"</strong>: "+n[l].validationMessage:e.getElementsByClassName("alert")[0].innerHTML="<strong>"+n[l].getAttribute("name")+"</strong>: "+n[l].validationMessage,o=!1);return o}function v(){console.log("find all contacts"),s.value="",B.findAllContacts(L)}function b(e){let t;if(console.log("search"),E&&E.length>0){let n=e.target.value.toLowerCase();console.log(n);let o=new RegExp("^"+n,"g");n.match(/^[0-9]{0,10}$/)?(console.log("in phone filter"),t=E.filter(e=>e.phone.toString().toLowerCase().match(o))):n.match(/^[a-zA-Z]*@[a-zA-Z]*$/)?(console.log("in email filter"),t=E.filter(e=>e.email.toLowerCase().match(o))):(console.log("in firstname filter"),t=E.filter(e=>e.firstname.toLowerCase().match(o)||e.lastname.toLowerCase().match(o)||e.email.toLowerCase().match(o)))}t&&I(t)}function L(e){E=e,I(e)}function I(e){if(console.log("render all contacts"),h.hasChildNodes())for(;h.firstChild;)h.removeChild(h.firstChild);if(e&&e.length>0){e.sort(function(e,t){let n=e.lastname.toLowerCase(),o=t.lastname.toLowerCase();return n<o?-1:n>o?1:0});for(let t in e){let n=y.cloneNode(!0);n.querySelector(".firstName").innerHTML=e[t].firstname,n.querySelector(".lastName").innerHTML=e[t].lastname,n.querySelector(".email").innerHTML=e[t].email,n.querySelector(".phone").innerHTML=e[t].phone,n.setAttribute("id",e[t]._id),n.querySelector(".editBtn").onclick=T,n.querySelector(".deleteBtn").onclick=S,h.appendChild(n)}}}function T(e){console.log("in edit");let t=e.target.parentNode.parentNode.parentNode.id;B.findContactById(t,j)}function j(e){document.getElementById("alertEdit").setAttribute("style","display:none"),e&&e.length>0&&(r.value=e[0].firstname,a.value=e[0].lastname,i.value=e[0].email,c.value=e[0].phone,u.value=e[0]._id)}function M(e){if(console.log("update record"),N(e.target.parentNode.parentNode)){let e={firstname:r.value,lastname:a.value,phone:c.value,email:i.value};B.updateContact(u.value,e,v),document.getElementById("closeModal").click()}else console.log("error")}function S(e){let t=e.target.parentNode.parentNode.parentNode.id;B.deleteContact(t,v)}e=document.getElementById("iFirstName"),t=document.getElementById("iLastName"),o=document.getElementById("iEmail"),l=document.getElementById("iPhone"),r=document.getElementById("editFirstName"),a=document.getElementById("editLastName"),i=document.getElementById("editEmail"),c=document.getElementById("editPhone"),u=document.getElementById("hiddenElementForId"),m=document.getElementById("addContact"),f=document.getElementById("updateContact"),h=document.getElementById("recordList"),p=document.getElementById("exampleModalCenter"),s=document.getElementById("searchBar"),g=document.getElementById("contactListTab"),d=document.getElementById("searchButton"),y=document.getElementsByClassName("recordItem")[0],m.onclick=C,f.onclick=M,d.onclick=b,s.onkeyup=b,v()}()},function(e,t,n){},function(e,t){let n="https://yellowpagesapp.herokuapp.com/api/contact",o="/id/",l="/firstname/",r="/lastname/",a="/email/",i="/phone/";e.exports={createContact:function(e,t){return console.log(e),fetch(n,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(t)},findAllContacts:function(e){return fetch(n,{method:"GET"}).then(function(e){return e.json()}).then(e)},findContactById:function(e,t){return fetch(n+o+e).then(function(e){return e.json()}).then(t)},deleteContact:function(e,t){return fetch(n+"/"+e,{method:"DELETE"}).then(t)},updateContact:function(e,t,o){return fetch(n+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(o)},deleteAllContacts:function(e){return fetch(n,{method:"DELETE"}).then(e)},findContactsByFirstName:function(e,t){return fetch(n+l+e).then(function(e){return e.json()}).then(t)},findContactsByLastName:function(e,t){return fetch(n+r+e).then(function(e){return e.json()}).then(t)},findContactsByEmail:function(e,t){return fetch(n+a+e).then(function(e){return e.json()}).then(t)},findContactByPhone:function(e,t){return fetch(n+i+e).then(function(e){return e.json()}).then(t)}}}]);